[2024-06-15T19:00:00.929Z][QUERY]: SELECT * FROM current_schema()
[2024-06-15T19:00:01.182Z][QUERY]: SELECT version();
[2024-06-15T19:00:01.184Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'migrations'
[2024-06-15T19:00:01.187Z][QUERY]: CREATE TABLE "projects"."migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_8c82d7f526340ab734260ea46be" PRIMARY KEY ("id"))
[2024-06-15T19:00:01.201Z][QUERY]: SELECT * FROM "projects"."migrations" "migrations" ORDER BY "id" DESC
[2024-06-15T19:00:01.202Z]No migrations were found in the database. Nothing to revert!
[2024-06-15T19:00:15.404Z][ ] Migration1718357029779
[2024-06-15T19:00:15.405Z][ ] Migration1718447055187
[2024-06-15T19:00:15.405Z][ ] SchemaUpdate1718477951822
[2024-06-15T19:00:35.239Z][QUERY]: SELECT * FROM current_schema()
[2024-06-15T19:00:35.498Z][QUERY]: SELECT version();
[2024-06-15T19:00:35.500Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'migrations'
[2024-06-15T19:00:35.505Z][QUERY]: SELECT * FROM "projects"."migrations" "migrations" ORDER BY "id" DESC
[2024-06-15T19:00:35.507Z]0 migrations are already loaded in the database.
[2024-06-15T19:00:35.507Z]3 migrations were found in the source code.
[2024-06-15T19:00:35.507Z]3 migrations are new migrations must be executed.
[2024-06-15T19:00:35.507Z][QUERY]: START TRANSACTION
[2024-06-15T19:00:35.508Z][QUERY]: CREATE TABLE "projects"."users" ("id" SERIAL NOT NULL, "full_name" character varying NOT NULL, "user_name" character varying NOT NULL, "is_deleted" boolean NOT NULL DEFAULT false, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "google_id" character varying NOT NULL, "avatar_url" character varying NOT NULL, CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2024-06-15T19:00:35.509Z][FAILED QUERY]: CREATE TABLE "projects"."users" ("id" SERIAL NOT NULL, "full_name" character varying NOT NULL, "user_name" character varying NOT NULL, "is_deleted" boolean NOT NULL DEFAULT false, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "google_id" character varying NOT NULL, "avatar_url" character varying NOT NULL, CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2024-06-15T19:00:35.509Z][QUERY ERROR]: error: relation "users" already exists
[2024-06-15T19:00:35.509Z]Migration "Migration1718357029779" failed, error: relation "users" already exists
[2024-06-15T19:00:35.509Z][QUERY]: ROLLBACK
[2024-06-15T19:01:02.650Z][QUERY]: SELECT * FROM current_schema()
[2024-06-15T19:01:02.874Z][QUERY]: SELECT version();
[2024-06-15T19:01:02.875Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'migrations'
[2024-06-15T19:01:02.881Z][QUERY]: SELECT * FROM "projects"."migrations" "migrations" ORDER BY "id" DESC
[2024-06-15T19:01:02.882Z]No migrations were found in the database. Nothing to revert!
[2024-06-15T19:01:28.075Z][QUERY]: SELECT * FROM current_schema()
[2024-06-15T19:01:28.264Z][QUERY]: SELECT version();
[2024-06-15T19:01:28.266Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'migrations'
[2024-06-15T19:01:28.271Z][QUERY]: SELECT * FROM "projects"."migrations" "migrations" ORDER BY "id" DESC
[2024-06-15T19:01:28.272Z]0 migrations are already loaded in the database.
[2024-06-15T19:01:28.272Z]2 migrations were found in the source code.
[2024-06-15T19:01:28.273Z]2 migrations are new migrations must be executed.
[2024-06-15T19:01:28.273Z][QUERY]: START TRANSACTION
[2024-06-15T19:01:28.273Z][QUERY]: CREATE TABLE "projects"."users" ("id" SERIAL NOT NULL, "full_name" character varying NOT NULL, "user_name" character varying NOT NULL, "is_deleted" boolean NOT NULL DEFAULT false, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "google_id" character varying NOT NULL, "avatar_url" character varying NOT NULL, CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2024-06-15T19:01:28.275Z][FAILED QUERY]: CREATE TABLE "projects"."users" ("id" SERIAL NOT NULL, "full_name" character varying NOT NULL, "user_name" character varying NOT NULL, "is_deleted" boolean NOT NULL DEFAULT false, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "google_id" character varying NOT NULL, "avatar_url" character varying NOT NULL, CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2024-06-15T19:01:28.275Z][QUERY ERROR]: error: relation "users" already exists
[2024-06-15T19:01:28.275Z]Migration "Migration1718357029779" failed, error: relation "users" already exists
[2024-06-15T19:01:28.275Z][QUERY]: ROLLBACK
[2024-06-15T19:02:09.418Z][QUERY]: SELECT * FROM current_schema()
[2024-06-15T19:02:09.608Z][QUERY]: SELECT version();
[2024-06-15T19:02:09.610Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'migrations'
[2024-06-15T19:02:09.615Z][QUERY]: SELECT * FROM "projects"."migrations" "migrations" ORDER BY "id" DESC
[2024-06-15T19:02:09.616Z]No migrations were found in the database. Nothing to revert!
[2024-06-15T19:03:13.522Z][QUERY]: SELECT * FROM current_schema()
[2024-06-15T19:03:13.758Z][QUERY]: SELECT version();
[2024-06-15T19:03:13.759Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'migrations'
[2024-06-15T19:03:13.765Z][QUERY]: SELECT * FROM "projects"."migrations" "migrations" ORDER BY "id" DESC
[2024-06-15T19:03:13.766Z]0 migrations are already loaded in the database.
[2024-06-15T19:03:13.766Z]3 migrations were found in the source code.
[2024-06-15T19:03:13.766Z]3 migrations are new migrations must be executed.
[2024-06-15T19:03:13.766Z][QUERY]: START TRANSACTION
[2024-06-15T19:03:13.767Z][QUERY]: CREATE TABLE "projects"."users" ("id" SERIAL NOT NULL, "full_name" character varying NOT NULL, "user_name" character varying NOT NULL, "is_deleted" boolean NOT NULL DEFAULT false, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "google_id" character varying NOT NULL, "avatar_url" character varying NOT NULL, CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2024-06-15T19:03:13.768Z][FAILED QUERY]: CREATE TABLE "projects"."users" ("id" SERIAL NOT NULL, "full_name" character varying NOT NULL, "user_name" character varying NOT NULL, "is_deleted" boolean NOT NULL DEFAULT false, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "google_id" character varying NOT NULL, "avatar_url" character varying NOT NULL, CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2024-06-15T19:03:13.768Z][QUERY ERROR]: error: relation "users" already exists
[2024-06-15T19:03:13.768Z]Migration "Migration1718357029779" failed, error: relation "users" already exists
[2024-06-15T19:03:13.768Z][QUERY]: ROLLBACK
[2024-06-15T19:04:15.865Z][QUERY]: SELECT * FROM current_schema()
[2024-06-15T19:04:16.002Z][QUERY]: SELECT version();
[2024-06-15T19:04:16.003Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'migrations'
[2024-06-15T19:04:16.009Z][QUERY]: SELECT * FROM "projects"."migrations" "migrations" ORDER BY "id" DESC
[2024-06-15T19:04:16.010Z]0 migrations are already loaded in the database.
[2024-06-15T19:04:16.010Z]1 migrations were found in the source code.
[2024-06-15T19:04:16.010Z]1 migrations are new migrations must be executed.
[2024-06-15T19:04:16.010Z][QUERY]: START TRANSACTION
[2024-06-15T19:04:16.011Z][QUERY]: CREATE TABLE "projects"."users" ("id" SERIAL NOT NULL, "full_name" character varying NOT NULL, "user_name" character varying NOT NULL, "is_deleted" boolean NOT NULL DEFAULT false, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "google_id" character varying NOT NULL, "avatar_url" character varying NOT NULL, "email" character varying NOT NULL, CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2024-06-15T19:04:16.018Z][QUERY]: CREATE TABLE "projects"."test" ("id" SERIAL NOT NULL, "full_name" character varying NOT NULL, "user_name" character varying NOT NULL, "is_deleted" boolean NOT NULL DEFAULT false, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "google_id" character varying NOT NULL, "avatar_url" character varying NOT NULL, "email" character varying NOT NULL, CONSTRAINT "PK_5417af0062cf987495b611b59c7" PRIMARY KEY ("id"))
[2024-06-15T19:04:16.028Z][QUERY]: INSERT INTO "projects"."migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1718478238643,"SchemaUpdate1718478238643"]
[2024-06-15T19:04:16.029Z]Migration SchemaUpdate1718478238643 has been  executed successfully.
[2024-06-15T19:04:16.029Z][QUERY]: COMMIT
[2024-06-15T19:05:02.875Z][QUERY]: SELECT * FROM current_schema()
[2024-06-15T19:05:02.997Z][QUERY]: SELECT version();
[2024-06-15T19:05:02.999Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-06-15T19:05:03.003Z][QUERY]: CREATE TABLE "projects"."chatapp_migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_0c3f1d0a9736987a313a735fcc6" PRIMARY KEY ("id"))
[2024-06-15T19:05:03.016Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-06-15T19:05:03.016Z]No migrations were found in the database. Nothing to revert!
[2024-06-18T18:42:15.931Z][QUERY]: SELECT * FROM current_schema()
[2024-06-18T18:42:16.135Z][QUERY]: SELECT version();
[2024-06-18T18:42:16.136Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-06-18T18:42:16.141Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-06-18T18:42:16.143Z]1 migrations are already loaded in the database.
[2024-06-18T18:42:16.143Z]2 migrations were found in the source code.
[2024-06-18T18:42:16.143Z]SchemaUpdate1718478442405 is the last executed migration. It was executed on Sun Jun 16 2024 00:37:22 GMT+0530 (India Standard Time).
[2024-06-18T18:42:16.143Z]1 migrations are new migrations must be executed.
[2024-06-18T18:42:16.143Z][QUERY]: START TRANSACTION
[2024-06-18T18:42:16.144Z][QUERY]: ALTER TABLE "projects"."users" ADD "password" character varying NOT NULL
[2024-06-18T18:42:16.144Z][FAILED QUERY]: ALTER TABLE "projects"."users" ADD "password" character varying NOT NULL
[2024-06-18T18:42:16.144Z][QUERY ERROR]: error: column "password" of relation "users" contains null values
[2024-06-18T18:42:16.145Z]Migration "SchemaUpdate1718736125701" failed, error: column "password" of relation "users" contains null values
[2024-06-18T18:42:16.145Z][QUERY]: ROLLBACK
[2024-06-18T18:47:07.188Z][QUERY]: SELECT * FROM current_schema()
[2024-06-18T18:47:07.426Z][QUERY]: SELECT version();
[2024-06-18T18:47:07.427Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-06-18T18:47:07.432Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-06-18T18:47:07.434Z]1 migrations are already loaded in the database.
[2024-06-18T18:47:07.434Z]SchemaUpdate1718478442405 is the last executed migration. It was executed on Sun Jun 16 2024 00:37:22 GMT+0530 (India Standard Time).
[2024-06-18T18:47:07.434Z]Now reverting it...
[2024-06-18T18:47:07.434Z][QUERY]: START TRANSACTION
[2024-06-18T18:47:07.435Z][QUERY]: DROP TABLE "projects"."users"
[2024-06-18T18:47:07.447Z][QUERY]: DELETE FROM "projects"."chatapp_migrations" WHERE "timestamp" = $1 AND "name" = $2 -- PARAMETERS: [1718478442405,"SchemaUpdate1718478442405"]
[2024-06-18T18:47:07.450Z]Migration SchemaUpdate1718478442405 has been  reverted successfully.
[2024-06-18T18:47:07.450Z][QUERY]: COMMIT
[2024-06-18T18:48:02.017Z][QUERY]: SELECT * FROM current_schema()
[2024-06-18T18:48:02.316Z][QUERY]: SELECT version();
[2024-06-18T18:48:02.317Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-06-18T18:48:02.322Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-06-18T18:48:02.323Z]0 migrations are already loaded in the database.
[2024-06-18T18:48:02.323Z]3 migrations were found in the source code.
[2024-06-18T18:48:02.324Z]3 migrations are new migrations must be executed.
[2024-06-18T18:48:02.324Z][QUERY]: START TRANSACTION
[2024-06-18T18:48:02.324Z][QUERY]: CREATE TABLE "projects"."users" ("id" SERIAL NOT NULL, "full_name" character varying NOT NULL, "user_name" character varying NOT NULL, "is_deleted" boolean NOT NULL DEFAULT false, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "google_id" character varying NOT NULL, "avatar_url" character varying NOT NULL, "email" character varying NOT NULL, CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2024-06-18T18:48:02.334Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1718478442405,"SchemaUpdate1718478442405"]
[2024-06-18T18:48:02.335Z]Migration SchemaUpdate1718478442405 has been  executed successfully.
[2024-06-18T18:48:02.335Z][QUERY]: ALTER TABLE "projects"."users" ADD "password" character varying NOT NULL
[2024-06-18T18:48:02.335Z][QUERY]: ALTER TABLE "projects"."users" ALTER COLUMN "avatar_url" DROP NOT NULL
[2024-06-18T18:48:02.336Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1718736125701,"SchemaUpdate1718736125701"]
[2024-06-18T18:48:02.337Z]Migration SchemaUpdate1718736125701 has been  executed successfully.
[2024-06-18T18:48:02.337Z][QUERY]: CREATE TABLE "projects"."users" ("id" SERIAL NOT NULL, "full_name" character varying NOT NULL, "user_name" character varying NOT NULL, "password" character varying, "is_deleted" boolean NOT NULL DEFAULT false, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "google_id" character varying NOT NULL, "avatar_url" character varying, "email" character varying NOT NULL, CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2024-06-18T18:48:02.338Z][FAILED QUERY]: CREATE TABLE "projects"."users" ("id" SERIAL NOT NULL, "full_name" character varying NOT NULL, "user_name" character varying NOT NULL, "password" character varying, "is_deleted" boolean NOT NULL DEFAULT false, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "google_id" character varying NOT NULL, "avatar_url" character varying, "email" character varying NOT NULL, CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2024-06-18T18:48:02.338Z][QUERY ERROR]: error: relation "users" already exists
[2024-06-18T18:48:02.338Z]Migration "SchemaUpdate1718736457156" failed, error: relation "users" already exists
[2024-06-18T18:48:02.339Z][QUERY]: ROLLBACK
[2024-06-18T18:49:11.943Z][QUERY]: SELECT * FROM current_schema()
[2024-06-18T18:49:12.105Z][QUERY]: SELECT version();
[2024-06-18T18:49:12.106Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-06-18T18:49:12.113Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-06-18T18:49:12.114Z]0 migrations are already loaded in the database.
[2024-06-18T18:49:12.114Z]1 migrations were found in the source code.
[2024-06-18T18:49:12.114Z]1 migrations are new migrations must be executed.
[2024-06-18T18:49:12.114Z][QUERY]: START TRANSACTION
[2024-06-18T18:49:12.115Z][QUERY]: CREATE TABLE "projects"."users" ("id" SERIAL NOT NULL, "full_name" character varying NOT NULL, "user_name" character varying NOT NULL, "password" character varying, "is_deleted" boolean NOT NULL DEFAULT false, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "google_id" character varying NOT NULL, "avatar_url" character varying, "email" character varying NOT NULL, CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2024-06-18T18:49:12.124Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1718736541789,"SchemaUpdate1718736541789"]
[2024-06-18T18:49:12.125Z]Migration SchemaUpdate1718736541789 has been  executed successfully.
[2024-06-18T18:49:12.126Z][QUERY]: COMMIT
[2024-06-18T19:33:46.396Z][QUERY]: SELECT * FROM current_schema()
[2024-06-18T19:33:46.642Z][QUERY]: SELECT version();
[2024-06-18T19:33:46.644Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-06-18T19:33:46.649Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-06-18T19:33:46.651Z]No migrations are pending
[2024-06-21T12:19:49.867Z][QUERY]: SELECT * FROM current_schema()
[2024-06-21T12:19:50.075Z][QUERY]: SELECT version();
[2024-06-21T12:19:50.077Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-06-21T12:19:50.081Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-06-21T12:19:50.082Z]No migrations are pending
[2024-06-23T09:38:07.170Z][QUERY]: SELECT * FROM current_schema()
[2024-06-23T09:38:07.444Z][QUERY]: SELECT version();
[2024-06-23T09:38:07.446Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-06-23T09:38:07.450Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-06-23T09:38:07.452Z]No migrations are pending
[2024-06-23T09:39:15.486Z][QUERY]: SELECT * FROM current_schema()
[2024-06-23T09:39:15.771Z][QUERY]: SELECT version();
[2024-06-23T09:39:15.773Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-06-23T09:39:15.779Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-06-23T09:39:15.780Z]3 migrations are already loaded in the database.
[2024-06-23T09:39:15.780Z]SchemaUpdate1719135445032 is the last executed migration. It was executed on Sun Jun 23 2024 15:07:25 GMT+0530 (India Standard Time).
[2024-06-23T09:39:15.780Z]Now reverting it...
[2024-06-23T09:39:15.780Z][QUERY]: START TRANSACTION
[2024-06-23T09:39:15.781Z][QUERY]: ALTER TABLE "projects"."connections" DROP CONSTRAINT "FK_9b7bb27b4207ce4ab4ae7718312"
[2024-06-23T09:39:15.786Z][QUERY]: ALTER TABLE "projects"."connections" DROP CONSTRAINT "FK_07ef035181c8897a846fde4a735"
[2024-06-23T09:39:15.787Z][QUERY]: DROP TABLE "projects"."connections"
[2024-06-23T09:39:15.788Z][QUERY]: DROP TYPE "projects"."connections_status_enum"
[2024-06-23T09:39:15.790Z][QUERY]: DELETE FROM "projects"."chatapp_migrations" WHERE "timestamp" = $1 AND "name" = $2 -- PARAMETERS: [1719135445032,"SchemaUpdate1719135445032"]
[2024-06-23T09:39:15.791Z]Migration SchemaUpdate1719135445032 has been  reverted successfully.
[2024-06-23T09:39:15.791Z][QUERY]: COMMIT
[2024-06-23T09:39:32.202Z][QUERY]: SELECT * FROM current_schema()
[2024-06-23T09:39:32.502Z][QUERY]: SELECT version();
[2024-06-23T09:39:32.504Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-06-23T09:39:32.508Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-06-23T09:39:32.510Z]2 migrations are already loaded in the database.
[2024-06-23T09:39:32.510Z]3 migrations were found in the source code.
[2024-06-23T09:39:32.510Z]SchemaUpdate1718739215366 is the last executed migration. It was executed on Wed Jun 19 2024 01:03:35 GMT+0530 (India Standard Time).
[2024-06-23T09:39:32.510Z]1 migrations are new migrations must be executed.
[2024-06-23T09:39:32.510Z][QUERY]: START TRANSACTION
[2024-06-23T09:39:32.511Z][QUERY]: CREATE TYPE "projects"."connections_status_enum" AS ENUM('pending', 'accepted', 'declined', 'blocked')
[2024-06-23T09:39:32.512Z][QUERY]: CREATE TABLE "projects"."connections" ("id" SERIAL NOT NULL, "status" "projects"."connections_status_enum" NOT NULL DEFAULT 'pending', "created_at" TIMESTAMP NOT NULL DEFAULT now(), "requested_by" integer, "addressed_to" integer, CONSTRAINT "PK_0a1f844af3122354cbd487a8d03" PRIMARY KEY ("id"))
[2024-06-23T09:39:32.517Z][QUERY]: ALTER TABLE "projects"."connections" ADD CONSTRAINT "FK_07ef035181c8897a846fde4a735" FOREIGN KEY ("requested_by") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-06-23T09:39:32.518Z][QUERY]: ALTER TABLE "projects"."connections" ADD CONSTRAINT "FK_9b7bb27b4207ce4ab4ae7718312" FOREIGN KEY ("addressed_to") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-06-23T09:39:32.521Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1719135445032,"SchemaUpdate1719135445032"]
[2024-06-23T09:39:32.522Z][QUERY]: COMMIT
[2024-06-23T09:39:32.524Z]Migration SchemaUpdate1719135445032 has been  executed successfully.
[2024-06-23T09:41:55.725Z][QUERY]: SELECT * FROM current_schema()
[2024-06-23T09:41:56.089Z][QUERY]: SELECT version();
[2024-06-23T09:41:56.091Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-06-23T09:41:56.096Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-06-23T09:41:56.097Z]No migrations are pending
[2024-06-23T14:43:20.646Z][QUERY]: SELECT * FROM current_schema()
[2024-06-23T14:43:21.030Z][QUERY]: SELECT version();
[2024-06-23T14:43:21.032Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-06-23T14:43:21.037Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-06-23T14:43:21.038Z]No migrations are pending
[2024-06-23T14:49:54.073Z][QUERY]: SELECT * FROM current_schema()
[2024-06-23T14:49:54.535Z][QUERY]: SELECT version();
[2024-06-23T14:49:54.537Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-06-23T14:49:54.542Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-06-23T14:49:54.544Z]No migrations are pending
[2024-07-05T21:03:17.425Z][QUERY]: SELECT * FROM current_schema()
[2024-07-05T21:03:18.067Z][QUERY]: SELECT version();
[2024-07-05T21:03:18.069Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-07-05T21:03:18.074Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-07-05T21:03:18.076Z]No migrations are pending
[2024-07-08T09:15:50.431Z][QUERY]: SELECT * FROM current_schema()
[2024-07-08T09:15:51.166Z][QUERY]: SELECT version();
[2024-07-08T09:15:51.168Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-07-08T09:15:51.175Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-07-08T09:15:51.176Z]No migrations are pending
[2024-07-08T09:48:54.962Z][QUERY]: SELECT * FROM current_schema()
[2024-07-08T09:48:55.703Z][QUERY]: SELECT version();
[2024-07-08T09:48:55.704Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-07-08T09:48:55.709Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-07-08T09:48:55.710Z]No migrations are pending
[2024-07-10T20:04:35.205Z][QUERY]: SELECT * FROM current_schema()
[2024-07-10T20:04:36.354Z][QUERY]: SELECT version();
[2024-07-10T20:04:36.356Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-07-10T20:04:36.362Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-07-10T20:04:36.364Z]No migrations are pending
[2024-07-10T20:05:41.288Z][QUERY]: SELECT * FROM current_schema()
[2024-07-10T20:05:42.578Z][QUERY]: SELECT version();
[2024-07-10T20:05:42.581Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-07-10T20:05:42.588Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-07-10T20:05:42.590Z]No migrations are pending
[2024-07-10T20:07:02.576Z][QUERY]: SELECT * FROM current_schema()
[2024-07-10T20:07:03.734Z][QUERY]: SELECT version();
[2024-07-10T20:07:03.735Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-07-10T20:07:03.740Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-07-10T20:07:03.742Z]11 migrations are already loaded in the database.
[2024-07-10T20:07:03.742Z]SchemaUpdate1720641931729 is the last executed migration. It was executed on Thu Jul 11 2024 01:35:31 GMT+0530 (India Standard Time).
[2024-07-10T20:07:03.742Z]Now reverting it...
[2024-07-10T20:07:03.742Z][QUERY]: START TRANSACTION
[2024-07-10T20:07:03.743Z][QUERY]: ALTER TABLE "projects"."message_attachments" DROP CONSTRAINT "FK_5b4f24737fcb6b35ffdd4d16e13"
[2024-07-10T20:07:03.750Z][QUERY]: DROP TABLE "projects"."message_attachments"
[2024-07-10T20:07:03.757Z][QUERY]: DELETE FROM "projects"."chatapp_migrations" WHERE "timestamp" = $1 AND "name" = $2 -- PARAMETERS: [1720641931729,"SchemaUpdate1720641931729"]
[2024-07-10T20:07:03.758Z]Migration SchemaUpdate1720641931729 has been  reverted successfully.
[2024-07-10T20:07:03.759Z][QUERY]: COMMIT
[2024-07-10T20:07:49.725Z][QUERY]: SELECT * FROM current_schema()
[2024-07-10T20:07:50.904Z][QUERY]: SELECT version();
[2024-07-10T20:07:50.910Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-07-10T20:07:50.915Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-07-10T20:10:01.218Z][QUERY]: SELECT * FROM current_schema()
[2024-07-10T20:10:02.424Z][QUERY]: SELECT version();
[2024-07-10T20:10:02.426Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-07-10T20:10:02.431Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-07-10T20:10:02.432Z]11 migrations are already loaded in the database.
[2024-07-10T20:10:02.432Z]SchemaUpdate1720641931729 is the last executed migration. It was executed on Thu Jul 11 2024 01:35:31 GMT+0530 (India Standard Time).
[2024-07-10T20:10:02.432Z]Now reverting it...
[2024-07-10T20:10:02.432Z][QUERY]: START TRANSACTION
[2024-07-10T20:10:02.433Z][QUERY]: ALTER TABLE "projects"."message_attachments" DROP CONSTRAINT "FK_5b4f24737fcb6b35ffdd4d16e13"
[2024-07-10T20:10:02.434Z][QUERY]: DROP TABLE "projects"."message_attachments"
[2024-07-10T20:10:02.436Z][QUERY]: DELETE FROM "projects"."chatapp_migrations" WHERE "timestamp" = $1 AND "name" = $2 -- PARAMETERS: [1720641931729,"SchemaUpdate1720641931729"]
[2024-07-10T20:10:02.437Z]Migration SchemaUpdate1720641931729 has been  reverted successfully.
[2024-07-10T20:10:02.437Z][QUERY]: COMMIT
[2024-07-10T20:10:14.487Z][QUERY]: SELECT * FROM current_schema()
[2024-07-10T20:10:15.645Z][QUERY]: SELECT version();
[2024-07-10T20:10:15.646Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-07-10T20:10:15.651Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-07-10T20:10:15.653Z]10 migrations are already loaded in the database.
[2024-07-10T20:10:15.653Z]SchemaUpdate1720641862448 is the last executed migration. It was executed on Thu Jul 11 2024 01:34:22 GMT+0530 (India Standard Time).
[2024-07-10T20:10:15.653Z]Now reverting it...
[2024-07-10T20:10:15.653Z][QUERY]: START TRANSACTION
[2024-07-10T20:10:15.654Z][QUERY]: ALTER TABLE "projects"."messageattachments" DROP CONSTRAINT "FK_487fd8a35eda933db5eb241250c"
[2024-07-10T20:10:15.655Z][QUERY]: DROP TABLE "projects"."messageattachments"
[2024-07-10T20:10:15.658Z][QUERY]: DELETE FROM "projects"."chatapp_migrations" WHERE "timestamp" = $1 AND "name" = $2 -- PARAMETERS: [1720641862448,"SchemaUpdate1720641862448"]
[2024-07-10T20:10:15.659Z]Migration SchemaUpdate1720641862448 has been  reverted successfully.
[2024-07-10T20:10:15.659Z][QUERY]: COMMIT
[2024-07-10T20:15:23.643Z][QUERY]: SELECT * FROM current_schema()
[2024-07-10T20:15:24.729Z][QUERY]: SELECT version();
[2024-07-10T20:15:24.731Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-07-10T20:15:24.737Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-07-10T20:15:24.739Z]9 migrations are already loaded in the database.
[2024-07-10T20:15:24.739Z]10 migrations were found in the source code.
[2024-07-10T20:15:24.739Z]SchemaUpdate1720432124611 is the last executed migration. It was executed on Mon Jul 08 2024 15:18:44 GMT+0530 (India Standard Time).
[2024-07-10T20:15:24.739Z]1 migrations are new migrations must be executed.
[2024-07-10T20:15:24.740Z][QUERY]: START TRANSACTION
[2024-07-10T20:15:24.740Z][QUERY]: CREATE TABLE "projects"."message_attachments" ("id" SERIAL NOT NULL, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, "mime_type" character varying NOT NULL, "url" character varying NOT NULL, "size" integer NOT NULL, "messageId" integer, CONSTRAINT "PK_e5085d973567c61e9306f10f95b" PRIMARY KEY ("id"))
[2024-07-10T20:15:24.750Z][QUERY]: ALTER TABLE "projects"."message_attachments" ADD CONSTRAINT "FK_5b4f24737fcb6b35ffdd4d16e13" FOREIGN KEY ("messageId") REFERENCES "projects"."messages"("id") ON DELETE CASCADE ON UPDATE NO ACTION
[2024-07-10T20:15:24.753Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1720642501584,"SchemaUpdate1720642501584"]
[2024-07-10T20:15:24.754Z][QUERY]: COMMIT
[2024-07-10T20:15:24.756Z]Migration SchemaUpdate1720642501584 has been  executed successfully.
[2024-07-22T16:04:19.746Z][QUERY]: SELECT * FROM current_schema()
[2024-07-22T16:04:21.778Z][QUERY]: SELECT version();
[2024-07-22T16:04:21.781Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2024-07-22T16:04:21.793Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2024-07-22T16:04:21.795Z]No migrations are pending
[2025-03-04T10:42:43.505Z][QUERY]: SELECT * FROM current_schema()
[2025-03-04T10:42:54.470Z][QUERY]: SELECT version();
[2025-03-04T10:42:54.478Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2025-03-04T10:42:54.497Z][QUERY]: CREATE TABLE "projects"."chatapp_migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_0c3f1d0a9736987a313a735fcc6" PRIMARY KEY ("id"))
[2025-03-04T10:42:54.512Z][FAILED QUERY]: CREATE TABLE "projects"."chatapp_migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_0c3f1d0a9736987a313a735fcc6" PRIMARY KEY ("id"))
[2025-03-04T10:42:54.512Z][QUERY ERROR]: error: schema "projects" does not exist
[2025-03-04T10:44:10.210Z][QUERY]: SELECT * FROM current_schema()
[2025-03-04T10:44:21.053Z][QUERY]: SELECT version();
[2025-03-04T10:44:21.059Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2025-03-04T10:44:21.074Z][QUERY]: CREATE TABLE "projects"."chatapp_migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_0c3f1d0a9736987a313a735fcc6" PRIMARY KEY ("id"))
[2025-03-04T10:44:21.076Z][FAILED QUERY]: CREATE TABLE "projects"."chatapp_migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_0c3f1d0a9736987a313a735fcc6" PRIMARY KEY ("id"))
[2025-03-04T10:44:21.076Z][QUERY ERROR]: error: schema "projects" does not exist
[2025-03-04T10:46:38.128Z][QUERY]: SELECT * FROM current_schema()
[2025-03-04T10:46:45.188Z][QUERY]: SELECT version();
[2025-03-04T10:46:45.193Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2025-03-04T10:46:45.209Z][QUERY]: CREATE TABLE "projects"."chatapp_migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_0c3f1d0a9736987a313a735fcc6" PRIMARY KEY ("id"))
[2025-03-04T10:46:45.270Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2025-03-04T10:46:45.272Z]0 migrations are already loaded in the database.
[2025-03-04T10:46:45.273Z]11 migrations were found in the source code.
[2025-03-04T10:46:45.273Z]11 migrations are new migrations must be executed.
[2025-03-04T10:46:45.274Z][QUERY]: START TRANSACTION
[2025-03-04T10:46:45.275Z][QUERY]: CREATE TABLE "projects"."users" ("id" SERIAL NOT NULL, "full_name" character varying NOT NULL, "user_name" character varying NOT NULL, "password" character varying, "is_deleted" boolean NOT NULL DEFAULT false, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "google_id" character varying NOT NULL, "avatar_url" character varying, "email" character varying NOT NULL, CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2025-03-04T10:46:45.284Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1718736541789,"SchemaUpdate1718736541789"]
[2025-03-04T10:46:45.290Z][QUERY]: COMMIT
[2025-03-04T10:46:45.294Z]Migration SchemaUpdate1718736541789 has been  executed successfully.
[2025-03-04T10:46:45.294Z][QUERY]: START TRANSACTION
[2025-03-04T10:46:45.296Z][QUERY]: ALTER TABLE "projects"."users" ALTER COLUMN "google_id" DROP NOT NULL
[2025-03-04T10:46:45.299Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1718739215366,"SchemaUpdate1718739215366"]
[2025-03-04T10:46:45.300Z][QUERY]: COMMIT
[2025-03-04T10:46:45.301Z]Migration SchemaUpdate1718739215366 has been  executed successfully.
[2025-03-04T10:46:45.301Z][QUERY]: START TRANSACTION
[2025-03-04T10:46:45.302Z][QUERY]: CREATE TYPE "projects"."connections_status_enum" AS ENUM('pending', 'accepted', 'declined', 'blocked')
[2025-03-04T10:46:45.308Z][QUERY]: CREATE TABLE "projects"."connections" ("id" SERIAL NOT NULL, "status" "projects"."connections_status_enum" NOT NULL DEFAULT 'pending', "created_at" TIMESTAMP NOT NULL DEFAULT now(), "requested_by" integer, "addressed_to" integer, CONSTRAINT "PK_0a1f844af3122354cbd487a8d03" PRIMARY KEY ("id"))
[2025-03-04T10:46:45.312Z][QUERY]: ALTER TABLE "projects"."connections" ADD CONSTRAINT "FK_07ef035181c8897a846fde4a735" FOREIGN KEY ("requested_by") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:46:45.323Z][QUERY]: ALTER TABLE "projects"."connections" ADD CONSTRAINT "FK_9b7bb27b4207ce4ab4ae7718312" FOREIGN KEY ("addressed_to") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:46:45.325Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1719135445032,"SchemaUpdate1719135445032"]
[2025-03-04T10:46:45.326Z][QUERY]: COMMIT
[2025-03-04T10:46:45.329Z]Migration SchemaUpdate1719135445032 has been  executed successfully.
[2025-03-04T10:46:45.330Z][QUERY]: START TRANSACTION
[2025-03-04T10:46:45.331Z][QUERY]: ALTER TABLE "projects"."connections" ADD "accepted_at" TIMESTAMP NOT NULL DEFAULT now()
[2025-03-04T10:46:45.333Z][QUERY]: CREATE INDEX "IDX_0adc0a8834ea0f252e96d154de" ON "projects"."users" ("full_name") 
[2025-03-04T10:46:45.336Z][QUERY]: CREATE INDEX "IDX_074a1f262efaca6aba16f7ed92" ON "projects"."users" ("user_name") 
[2025-03-04T10:46:45.338Z][QUERY]: CREATE INDEX "IDX_97672ac88f789774dd47f7c8be" ON "projects"."users" ("email") 
[2025-03-04T10:46:45.341Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1719135697984,"SchemaUpdate1719135697984"]
[2025-03-04T10:46:45.342Z][QUERY]: COMMIT
[2025-03-04T10:46:45.343Z]Migration SchemaUpdate1719135697984 has been  executed successfully.
[2025-03-04T10:46:45.344Z][QUERY]: START TRANSACTION
[2025-03-04T10:46:45.345Z][QUERY]: CREATE TABLE "projects"."channel_users" ("id" SERIAL NOT NULL, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, "user_id" integer, "channelIdId" integer, CONSTRAINT "PK_2237cedc2591a4ad08535ec0f9c" PRIMARY KEY ("id"))
[2025-03-04T10:46:45.349Z][QUERY]: CREATE TABLE "projects"."channels" ("id" SERIAL NOT NULL, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, "topic" character varying, "description" character varying, "is_deleted" boolean NOT NULL DEFAULT false, "created_by" integer, CONSTRAINT "UQ_069b6c9c74fb42c2e31a8987592" UNIQUE ("topic"), CONSTRAINT "PK_bc603823f3f741359c2339389f9" PRIMARY KEY ("id"))
[2025-03-04T10:46:45.356Z][QUERY]: CREATE INDEX "IDX_069b6c9c74fb42c2e31a898759" ON "projects"."channels" ("topic") 
[2025-03-04T10:46:45.358Z][QUERY]: CREATE TYPE "projects"."messages_status_enum" AS ENUM('sent', 'delivered', 'read')
[2025-03-04T10:46:45.359Z][QUERY]: CREATE TABLE "projects"."messages" ("id" SERIAL NOT NULL, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, "content" character varying NOT NULL, "is_deleted" boolean NOT NULL DEFAULT false, "status" "projects"."messages_status_enum" NOT NULL DEFAULT 'sent', "sender_id" integer, "channel_id" integer, CONSTRAINT "PK_18325f38ae6de43878487eff986" PRIMARY KEY ("id"))
[2025-03-04T10:46:45.364Z][QUERY]: CREATE TABLE "projects"."message_status" ("id" SERIAL NOT NULL, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, "delivered_at" TIMESTAMP NOT NULL DEFAULT now(), "read_at" TIMESTAMP DEFAULT now(), "message_id" integer, "user_id" integer, CONSTRAINT "PK_fd8b82470959145fdf427784046" PRIMARY KEY ("id"))
[2025-03-04T10:46:45.369Z][QUERY]: ALTER TABLE "projects"."connections" DROP COLUMN "accepted_at"
[2025-03-04T10:46:45.377Z][QUERY]: ALTER TABLE "projects"."connections" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()
[2025-03-04T10:46:45.378Z][QUERY]: ALTER TABLE "projects"."connections" ADD "deleted_at" TIMESTAMP
[2025-03-04T10:46:45.379Z][QUERY]: ALTER TABLE "projects"."users" ADD "deleted_at" TIMESTAMP
[2025-03-04T10:46:45.380Z][QUERY]: ALTER TABLE "projects"."users" ADD CONSTRAINT "UQ_074a1f262efaca6aba16f7ed920" UNIQUE ("user_name")
[2025-03-04T10:46:45.382Z][QUERY]: ALTER TABLE "projects"."users" ADD CONSTRAINT "UQ_97672ac88f789774dd47f7c8be3" UNIQUE ("email")
[2025-03-04T10:46:45.384Z][QUERY]: ALTER TABLE "projects"."channel_users" ADD CONSTRAINT "FK_a7a2db7198d61d6a301fdfeb3ed" FOREIGN KEY ("user_id") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:46:45.390Z][QUERY]: ALTER TABLE "projects"."channel_users" ADD CONSTRAINT "FK_d9f902e1b324ee3f35807599206" FOREIGN KEY ("channelIdId") REFERENCES "projects"."channels"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:46:45.393Z][QUERY]: ALTER TABLE "projects"."channels" ADD CONSTRAINT "FK_2573c3526ed4a83cc830762012e" FOREIGN KEY ("created_by") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:46:45.395Z][QUERY]: ALTER TABLE "projects"."messages" ADD CONSTRAINT "FK_22133395bd13b970ccd0c34ab22" FOREIGN KEY ("sender_id") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:46:45.398Z][QUERY]: ALTER TABLE "projects"."messages" ADD CONSTRAINT "FK_86b9109b155eb70c0a2ca3b4b6d" FOREIGN KEY ("channel_id") REFERENCES "projects"."channels"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:46:45.399Z][QUERY]: ALTER TABLE "projects"."message_status" ADD CONSTRAINT "FK_ff8dd09dba401134707f7fdafd1" FOREIGN KEY ("message_id") REFERENCES "projects"."messages"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:46:45.402Z][QUERY]: ALTER TABLE "projects"."message_status" ADD CONSTRAINT "FK_4ae52d84e883c882b2f964d852f" FOREIGN KEY ("user_id") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:46:45.404Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1719153773700,"SchemaUpdate1719153773700"]
[2025-03-04T10:46:45.405Z][QUERY]: COMMIT
[2025-03-04T10:46:45.409Z]Migration SchemaUpdate1719153773700 has been  executed successfully.
[2025-03-04T10:46:45.409Z][QUERY]: START TRANSACTION
[2025-03-04T10:46:45.411Z][QUERY]: ALTER TABLE "projects"."channels" ADD "is_group" boolean NOT NULL DEFAULT false
[2025-03-04T10:46:45.412Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1719154185363,"SchemaUpdate1719154185363"]
[2025-03-04T10:46:45.413Z][QUERY]: COMMIT
[2025-03-04T10:46:45.414Z]Migration SchemaUpdate1719154185363 has been  executed successfully.
[2025-03-04T10:46:45.414Z][QUERY]: START TRANSACTION
[2025-03-04T10:46:45.415Z][QUERY]: ALTER TABLE "projects"."channel_users" DROP CONSTRAINT "FK_d9f902e1b324ee3f35807599206"
[2025-03-04T10:46:45.417Z][QUERY]: ALTER TABLE "projects"."channel_users" RENAME COLUMN "channelIdId" TO "channel_id"
[2025-03-04T10:46:45.418Z][QUERY]: ALTER TABLE "projects"."channel_users" ADD CONSTRAINT "FK_172af4652df61837a64d5e79955" FOREIGN KEY ("channel_id") REFERENCES "projects"."channels"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:46:45.422Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1720213359058,"SchemaUpdate1720213359058"]
[2025-03-04T10:46:45.423Z][QUERY]: COMMIT
[2025-03-04T10:46:45.425Z]Migration SchemaUpdate1720213359058 has been  executed successfully.
[2025-03-04T10:46:45.425Z][QUERY]: START TRANSACTION
[2025-03-04T10:46:45.426Z][QUERY]: ALTER TABLE "projects"."message_status" ADD "sent_at" TIMESTAMP NOT NULL DEFAULT now()
[2025-03-04T10:46:45.427Z][QUERY]: ALTER TABLE "projects"."message_status" ALTER COLUMN "delivered_at" DROP NOT NULL
[2025-03-04T10:46:45.428Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1720430140194,"SchemaUpdate1720430140194"]
[2025-03-04T10:46:45.429Z][QUERY]: COMMIT
[2025-03-04T10:46:45.431Z]Migration SchemaUpdate1720430140194 has been  executed successfully.
[2025-03-04T10:46:45.432Z][QUERY]: START TRANSACTION
[2025-03-04T10:46:45.432Z][QUERY]: ALTER TABLE "projects"."message_status" DROP COLUMN "sent_at"
[2025-03-04T10:46:45.434Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1720432124611,"SchemaUpdate1720432124611"]
[2025-03-04T10:46:45.436Z][QUERY]: COMMIT
[2025-03-04T10:46:45.439Z]Migration SchemaUpdate1720432124611 has been  executed successfully.
[2025-03-04T10:46:45.439Z][QUERY]: START TRANSACTION
[2025-03-04T10:46:45.440Z][QUERY]: CREATE TABLE "projects"."message_attachments" ("id" SERIAL NOT NULL, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, "mime_type" character varying NOT NULL, "url" character varying NOT NULL, "size" integer NOT NULL, "messageId" integer, CONSTRAINT "PK_e5085d973567c61e9306f10f95b" PRIMARY KEY ("id"))
[2025-03-04T10:46:45.446Z][QUERY]: ALTER TABLE "projects"."message_attachments" ADD CONSTRAINT "FK_5b4f24737fcb6b35ffdd4d16e13" FOREIGN KEY ("messageId") REFERENCES "projects"."messages"("id") ON DELETE CASCADE ON UPDATE NO ACTION
[2025-03-04T10:46:45.449Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1720642501584,"SchemaUpdate1720642501584"]
[2025-03-04T10:46:45.450Z][QUERY]: COMMIT
[2025-03-04T10:46:45.453Z]Migration SchemaUpdate1720642501584 has been  executed successfully.
[2025-03-04T10:46:45.454Z][QUERY]: START TRANSACTION
[2025-03-04T10:46:45.455Z][QUERY]: ALTER TABLE "projects"."channel_users" ADD "is_admin" boolean NOT NULL DEFAULT false
[2025-03-04T10:46:45.456Z][QUERY]: ALTER TABLE "projects"."channels" ADD "channel_avatar" character varying
[2025-03-04T10:46:45.457Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1721664225707,"SchemaUpdate1721664225707"]
[2025-03-04T10:46:45.458Z][QUERY]: COMMIT
[2025-03-04T10:46:45.460Z]Migration SchemaUpdate1721664225707 has been  executed successfully.
[2025-03-04T10:48:06.950Z][QUERY]: SELECT * FROM current_schema()
[2025-03-04T10:48:15.148Z][QUERY]: SELECT version();
[2025-03-04T10:48:15.151Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2025-03-04T10:48:15.163Z][QUERY]: CREATE TABLE "projects"."chatapp_migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_0c3f1d0a9736987a313a735fcc6" PRIMARY KEY ("id"))
[2025-03-04T10:48:15.165Z][FAILED QUERY]: CREATE TABLE "projects"."chatapp_migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_0c3f1d0a9736987a313a735fcc6" PRIMARY KEY ("id"))
[2025-03-04T10:48:15.165Z][QUERY ERROR]: error: schema "projects" does not exist
[2025-03-04T10:49:05.443Z][QUERY]: SELECT * FROM current_schema()
[2025-03-04T10:49:12.991Z][QUERY]: SELECT version();
[2025-03-04T10:49:13.004Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2025-03-04T10:49:13.018Z][QUERY]: CREATE TABLE "projects"."chatapp_migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_0c3f1d0a9736987a313a735fcc6" PRIMARY KEY ("id"))
[2025-03-04T10:49:13.020Z][FAILED QUERY]: CREATE TABLE "projects"."chatapp_migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_0c3f1d0a9736987a313a735fcc6" PRIMARY KEY ("id"))
[2025-03-04T10:49:13.020Z][QUERY ERROR]: error: schema "projects" does not exist
[2025-03-04T10:49:35.489Z][QUERY]: SELECT * FROM current_schema()
[2025-03-04T10:49:42.610Z][QUERY]: SELECT version();
[2025-03-04T10:49:42.615Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2025-03-04T10:49:42.627Z][QUERY]: CREATE TABLE "projects"."chatapp_migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_0c3f1d0a9736987a313a735fcc6" PRIMARY KEY ("id"))
[2025-03-04T10:49:42.655Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2025-03-04T10:49:42.658Z]0 migrations are already loaded in the database.
[2025-03-04T10:49:42.659Z]11 migrations were found in the source code.
[2025-03-04T10:49:42.659Z]11 migrations are new migrations must be executed.
[2025-03-04T10:49:42.660Z][QUERY]: START TRANSACTION
[2025-03-04T10:49:42.661Z][QUERY]: CREATE TABLE "projects"."users" ("id" SERIAL NOT NULL, "full_name" character varying NOT NULL, "user_name" character varying NOT NULL, "password" character varying, "is_deleted" boolean NOT NULL DEFAULT false, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "google_id" character varying NOT NULL, "avatar_url" character varying, "email" character varying NOT NULL, CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id"))
[2025-03-04T10:49:42.672Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1718736541789,"SchemaUpdate1718736541789"]
[2025-03-04T10:49:42.675Z][QUERY]: COMMIT
[2025-03-04T10:49:42.679Z]Migration SchemaUpdate1718736541789 has been  executed successfully.
[2025-03-04T10:49:42.680Z][QUERY]: START TRANSACTION
[2025-03-04T10:49:42.681Z][QUERY]: ALTER TABLE "projects"."users" ALTER COLUMN "google_id" DROP NOT NULL
[2025-03-04T10:49:42.683Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1718739215366,"SchemaUpdate1718739215366"]
[2025-03-04T10:49:42.684Z][QUERY]: COMMIT
[2025-03-04T10:49:42.687Z]Migration SchemaUpdate1718739215366 has been  executed successfully.
[2025-03-04T10:49:42.687Z][QUERY]: START TRANSACTION
[2025-03-04T10:49:42.688Z][QUERY]: CREATE TYPE "projects"."connections_status_enum" AS ENUM('pending', 'accepted', 'declined', 'blocked')
[2025-03-04T10:49:42.692Z][QUERY]: CREATE TABLE "projects"."connections" ("id" SERIAL NOT NULL, "status" "projects"."connections_status_enum" NOT NULL DEFAULT 'pending', "created_at" TIMESTAMP NOT NULL DEFAULT now(), "requested_by" integer, "addressed_to" integer, CONSTRAINT "PK_0a1f844af3122354cbd487a8d03" PRIMARY KEY ("id"))
[2025-03-04T10:49:42.699Z][QUERY]: ALTER TABLE "projects"."connections" ADD CONSTRAINT "FK_07ef035181c8897a846fde4a735" FOREIGN KEY ("requested_by") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:49:42.705Z][QUERY]: ALTER TABLE "projects"."connections" ADD CONSTRAINT "FK_9b7bb27b4207ce4ab4ae7718312" FOREIGN KEY ("addressed_to") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:49:42.707Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1719135445032,"SchemaUpdate1719135445032"]
[2025-03-04T10:49:42.708Z][QUERY]: COMMIT
[2025-03-04T10:49:42.711Z]Migration SchemaUpdate1719135445032 has been  executed successfully.
[2025-03-04T10:49:42.712Z][QUERY]: START TRANSACTION
[2025-03-04T10:49:42.713Z][QUERY]: ALTER TABLE "projects"."connections" ADD "accepted_at" TIMESTAMP NOT NULL DEFAULT now()
[2025-03-04T10:49:42.714Z][QUERY]: CREATE INDEX "IDX_0adc0a8834ea0f252e96d154de" ON "projects"."users" ("full_name") 
[2025-03-04T10:49:42.717Z][QUERY]: CREATE INDEX "IDX_074a1f262efaca6aba16f7ed92" ON "projects"."users" ("user_name") 
[2025-03-04T10:49:42.719Z][QUERY]: CREATE INDEX "IDX_97672ac88f789774dd47f7c8be" ON "projects"."users" ("email") 
[2025-03-04T10:49:42.722Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1719135697984,"SchemaUpdate1719135697984"]
[2025-03-04T10:49:42.723Z][QUERY]: COMMIT
[2025-03-04T10:49:42.726Z]Migration SchemaUpdate1719135697984 has been  executed successfully.
[2025-03-04T10:49:42.727Z][QUERY]: START TRANSACTION
[2025-03-04T10:49:42.728Z][QUERY]: CREATE TABLE "projects"."channel_users" ("id" SERIAL NOT NULL, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, "user_id" integer, "channelIdId" integer, CONSTRAINT "PK_2237cedc2591a4ad08535ec0f9c" PRIMARY KEY ("id"))
[2025-03-04T10:49:42.732Z][QUERY]: CREATE TABLE "projects"."channels" ("id" SERIAL NOT NULL, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, "topic" character varying, "description" character varying, "is_deleted" boolean NOT NULL DEFAULT false, "created_by" integer, CONSTRAINT "UQ_069b6c9c74fb42c2e31a8987592" UNIQUE ("topic"), CONSTRAINT "PK_bc603823f3f741359c2339389f9" PRIMARY KEY ("id"))
[2025-03-04T10:49:42.741Z][QUERY]: CREATE INDEX "IDX_069b6c9c74fb42c2e31a898759" ON "projects"."channels" ("topic") 
[2025-03-04T10:49:42.743Z][QUERY]: CREATE TYPE "projects"."messages_status_enum" AS ENUM('sent', 'delivered', 'read')
[2025-03-04T10:49:42.744Z][QUERY]: CREATE TABLE "projects"."messages" ("id" SERIAL NOT NULL, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, "content" character varying NOT NULL, "is_deleted" boolean NOT NULL DEFAULT false, "status" "projects"."messages_status_enum" NOT NULL DEFAULT 'sent', "sender_id" integer, "channel_id" integer, CONSTRAINT "PK_18325f38ae6de43878487eff986" PRIMARY KEY ("id"))
[2025-03-04T10:49:42.751Z][QUERY]: CREATE TABLE "projects"."message_status" ("id" SERIAL NOT NULL, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, "delivered_at" TIMESTAMP NOT NULL DEFAULT now(), "read_at" TIMESTAMP DEFAULT now(), "message_id" integer, "user_id" integer, CONSTRAINT "PK_fd8b82470959145fdf427784046" PRIMARY KEY ("id"))
[2025-03-04T10:49:42.757Z][QUERY]: ALTER TABLE "projects"."connections" DROP COLUMN "accepted_at"
[2025-03-04T10:49:42.759Z][QUERY]: ALTER TABLE "projects"."connections" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()
[2025-03-04T10:49:42.760Z][QUERY]: ALTER TABLE "projects"."connections" ADD "deleted_at" TIMESTAMP
[2025-03-04T10:49:42.761Z][QUERY]: ALTER TABLE "projects"."users" ADD "deleted_at" TIMESTAMP
[2025-03-04T10:49:42.762Z][QUERY]: ALTER TABLE "projects"."users" ADD CONSTRAINT "UQ_074a1f262efaca6aba16f7ed920" UNIQUE ("user_name")
[2025-03-04T10:49:42.765Z][QUERY]: ALTER TABLE "projects"."users" ADD CONSTRAINT "UQ_97672ac88f789774dd47f7c8be3" UNIQUE ("email")
[2025-03-04T10:49:42.767Z][QUERY]: ALTER TABLE "projects"."channel_users" ADD CONSTRAINT "FK_a7a2db7198d61d6a301fdfeb3ed" FOREIGN KEY ("user_id") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:49:42.774Z][QUERY]: ALTER TABLE "projects"."channel_users" ADD CONSTRAINT "FK_d9f902e1b324ee3f35807599206" FOREIGN KEY ("channelIdId") REFERENCES "projects"."channels"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:49:42.778Z][QUERY]: ALTER TABLE "projects"."channels" ADD CONSTRAINT "FK_2573c3526ed4a83cc830762012e" FOREIGN KEY ("created_by") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:49:42.780Z][QUERY]: ALTER TABLE "projects"."messages" ADD CONSTRAINT "FK_22133395bd13b970ccd0c34ab22" FOREIGN KEY ("sender_id") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:49:42.782Z][QUERY]: ALTER TABLE "projects"."messages" ADD CONSTRAINT "FK_86b9109b155eb70c0a2ca3b4b6d" FOREIGN KEY ("channel_id") REFERENCES "projects"."channels"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:49:42.784Z][QUERY]: ALTER TABLE "projects"."message_status" ADD CONSTRAINT "FK_ff8dd09dba401134707f7fdafd1" FOREIGN KEY ("message_id") REFERENCES "projects"."messages"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:49:42.787Z][QUERY]: ALTER TABLE "projects"."message_status" ADD CONSTRAINT "FK_4ae52d84e883c882b2f964d852f" FOREIGN KEY ("user_id") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:49:42.789Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1719153773700,"SchemaUpdate1719153773700"]
[2025-03-04T10:49:42.790Z][QUERY]: COMMIT
[2025-03-04T10:49:42.795Z]Migration SchemaUpdate1719153773700 has been  executed successfully.
[2025-03-04T10:49:42.796Z][QUERY]: START TRANSACTION
[2025-03-04T10:49:42.798Z][QUERY]: ALTER TABLE "projects"."channels" ADD "is_group" boolean NOT NULL DEFAULT false
[2025-03-04T10:49:42.800Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1719154185363,"SchemaUpdate1719154185363"]
[2025-03-04T10:49:42.801Z][QUERY]: COMMIT
[2025-03-04T10:49:42.803Z]Migration SchemaUpdate1719154185363 has been  executed successfully.
[2025-03-04T10:49:42.804Z][QUERY]: START TRANSACTION
[2025-03-04T10:49:42.805Z][QUERY]: ALTER TABLE "projects"."channel_users" DROP CONSTRAINT "FK_d9f902e1b324ee3f35807599206"
[2025-03-04T10:49:42.806Z][QUERY]: ALTER TABLE "projects"."channel_users" RENAME COLUMN "channelIdId" TO "channel_id"
[2025-03-04T10:49:42.807Z][QUERY]: ALTER TABLE "projects"."channel_users" ADD CONSTRAINT "FK_172af4652df61837a64d5e79955" FOREIGN KEY ("channel_id") REFERENCES "projects"."channels"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-04T10:49:42.812Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1720213359058,"SchemaUpdate1720213359058"]
[2025-03-04T10:49:42.813Z][QUERY]: COMMIT
[2025-03-04T10:49:42.816Z]Migration SchemaUpdate1720213359058 has been  executed successfully.
[2025-03-04T10:49:42.816Z][QUERY]: START TRANSACTION
[2025-03-04T10:49:42.817Z][QUERY]: ALTER TABLE "projects"."message_status" ADD "sent_at" TIMESTAMP NOT NULL DEFAULT now()
[2025-03-04T10:49:42.819Z][QUERY]: ALTER TABLE "projects"."message_status" ALTER COLUMN "delivered_at" DROP NOT NULL
[2025-03-04T10:49:42.820Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1720430140194,"SchemaUpdate1720430140194"]
[2025-03-04T10:49:42.821Z][QUERY]: COMMIT
[2025-03-04T10:49:42.822Z]Migration SchemaUpdate1720430140194 has been  executed successfully.
[2025-03-04T10:49:42.823Z][QUERY]: START TRANSACTION
[2025-03-04T10:49:42.824Z][QUERY]: ALTER TABLE "projects"."message_status" DROP COLUMN "sent_at"
[2025-03-04T10:49:42.826Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1720432124611,"SchemaUpdate1720432124611"]
[2025-03-04T10:49:42.827Z][QUERY]: COMMIT
[2025-03-04T10:49:42.829Z]Migration SchemaUpdate1720432124611 has been  executed successfully.
[2025-03-04T10:49:42.829Z][QUERY]: START TRANSACTION
[2025-03-04T10:49:42.830Z][QUERY]: CREATE TABLE "projects"."message_attachments" ("id" SERIAL NOT NULL, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, "mime_type" character varying NOT NULL, "url" character varying NOT NULL, "size" integer NOT NULL, "messageId" integer, CONSTRAINT "PK_e5085d973567c61e9306f10f95b" PRIMARY KEY ("id"))
[2025-03-04T10:49:42.836Z][QUERY]: ALTER TABLE "projects"."message_attachments" ADD CONSTRAINT "FK_5b4f24737fcb6b35ffdd4d16e13" FOREIGN KEY ("messageId") REFERENCES "projects"."messages"("id") ON DELETE CASCADE ON UPDATE NO ACTION
[2025-03-04T10:49:42.840Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1720642501584,"SchemaUpdate1720642501584"]
[2025-03-04T10:49:42.842Z][QUERY]: COMMIT
[2025-03-04T10:49:42.845Z]Migration SchemaUpdate1720642501584 has been  executed successfully.
[2025-03-04T10:49:42.846Z][QUERY]: START TRANSACTION
[2025-03-04T10:49:42.847Z][QUERY]: ALTER TABLE "projects"."channel_users" ADD "is_admin" boolean NOT NULL DEFAULT false
[2025-03-04T10:49:42.848Z][QUERY]: ALTER TABLE "projects"."channels" ADD "channel_avatar" character varying
[2025-03-04T10:49:42.850Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1721664225707,"SchemaUpdate1721664225707"]
[2025-03-04T10:49:42.851Z][QUERY]: COMMIT
[2025-03-04T10:49:42.852Z]Migration SchemaUpdate1721664225707 has been  executed successfully.
[2025-03-07T11:00:55.526Z][QUERY]: SELECT * FROM current_schema()
[2025-03-07T11:01:00.255Z][QUERY]: SELECT version();
[2025-03-07T11:01:00.256Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2025-03-07T11:01:00.261Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2025-03-07T11:01:00.263Z]No migrations are pending
[2025-03-09T10:11:42.080Z][QUERY]: SELECT * FROM current_schema()
[2025-03-09T10:11:46.601Z][QUERY]: SELECT version();
[2025-03-09T10:11:46.603Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2025-03-09T10:11:46.608Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2025-03-09T10:11:46.609Z]No migrations are pending
[2025-03-09T18:51:56.873Z][QUERY]: SELECT * FROM current_schema()
[2025-03-09T18:52:03.330Z][QUERY]: SELECT version();
[2025-03-09T18:52:03.333Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2025-03-09T18:52:03.341Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2025-03-09T18:52:03.343Z]11 migrations are already loaded in the database.
[2025-03-09T18:52:03.343Z]12 migrations were found in the source code.
[2025-03-09T18:52:03.343Z]SchemaUpdate1721664225707 is the last executed migration. It was executed on Mon Jul 22 2024 21:33:45 GMT+0530 (India Standard Time).
[2025-03-09T18:52:03.344Z]1 migrations are new migrations must be executed.
[2025-03-09T18:52:03.344Z][QUERY]: START TRANSACTION
[2025-03-09T18:52:03.345Z][QUERY]: ALTER TABLE "projects"."connections" DROP CONSTRAINT "FK_07ef035181c8897a846fde4a735"
[2025-03-09T18:52:03.351Z][QUERY]: ALTER TABLE "projects"."connections" DROP CONSTRAINT "FK_9b7bb27b4207ce4ab4ae7718312"
[2025-03-09T18:52:03.353Z][QUERY]: ALTER TABLE "projects"."channels" RENAME COLUMN "is_group" TO "channel_type"
[2025-03-09T18:52:03.353Z][QUERY]: ALTER TABLE "projects"."messages" DROP COLUMN "status"
[2025-03-09T18:52:03.355Z][QUERY]: DROP TYPE "projects"."messages_status_enum"
[2025-03-09T18:52:03.357Z][QUERY]: ALTER TABLE "projects"."connections" DROP COLUMN "requested_by"
[2025-03-09T18:52:03.358Z][QUERY]: ALTER TABLE "projects"."connections" DROP COLUMN "addressed_to"
[2025-03-09T18:52:03.358Z][QUERY]: ALTER TABLE "projects"."channel_users" ADD "is_deleted" boolean NOT NULL DEFAULT false
[2025-03-09T18:52:03.361Z][QUERY]: ALTER TABLE "projects"."message_status" ADD "is_deleted" boolean NOT NULL DEFAULT false
[2025-03-09T18:52:03.361Z][QUERY]: CREATE TYPE "projects"."message_status_status_enum" AS ENUM('sent', 'delivered', 'read', 'failed')
[2025-03-09T18:52:03.364Z][QUERY]: ALTER TABLE "projects"."message_status" ADD "status" "projects"."message_status_status_enum" NOT NULL DEFAULT 'sent'
[2025-03-09T18:52:03.365Z][QUERY]: ALTER TABLE "projects"."message_status" ADD "error" character varying(255)
[2025-03-09T18:52:03.365Z][QUERY]: ALTER TABLE "projects"."message_attachments" ADD "is_deleted" boolean NOT NULL DEFAULT false
[2025-03-09T18:52:03.366Z][QUERY]: ALTER TABLE "projects"."messages" ADD "is_edited" boolean NOT NULL DEFAULT false
[2025-03-09T18:52:03.367Z][QUERY]: ALTER TABLE "projects"."messages" ADD "reply_to" integer
[2025-03-09T18:52:03.368Z][QUERY]: ALTER TABLE "projects"."connections" ADD "is_deleted" boolean NOT NULL DEFAULT false
[2025-03-09T18:52:03.368Z][QUERY]: ALTER TABLE "projects"."connections" ADD "requester_id" integer
[2025-03-09T18:52:03.369Z][QUERY]: ALTER TABLE "projects"."connections" ADD "recipient_id" integer
[2025-03-09T18:52:03.369Z][QUERY]: ALTER TABLE "projects"."channels" DROP COLUMN "channel_type"
[2025-03-09T18:52:03.370Z][QUERY]: CREATE TYPE "projects"."channels_channel_type_enum" AS ENUM('DIRECT', 'GROUP')
[2025-03-09T18:52:03.371Z][QUERY]: ALTER TABLE "projects"."channels" ADD "channel_type" "projects"."channels_channel_type_enum" NOT NULL DEFAULT 'DIRECT'
[2025-03-09T18:52:03.372Z][QUERY]: ALTER TABLE "projects"."connections" ADD CONSTRAINT "UQ_cafdaa42198b791b8bc7e2b516d" UNIQUE ("requester_id", "recipient_id")
[2025-03-09T18:52:03.407Z][QUERY]: ALTER TABLE "projects"."messages" ADD CONSTRAINT "FK_5c253c352f5150e6ccf1e1ec374" FOREIGN KEY ("reply_to") REFERENCES "projects"."messages"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-09T18:52:03.415Z][QUERY]: ALTER TABLE "projects"."connections" ADD CONSTRAINT "FK_ebe9e7a9bbda233035e2f7a9008" FOREIGN KEY ("requester_id") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-09T18:52:03.417Z][QUERY]: ALTER TABLE "projects"."connections" ADD CONSTRAINT "FK_cc3e536ca9f324cdccc60990889" FOREIGN KEY ("recipient_id") REFERENCES "projects"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION
[2025-03-09T18:52:03.422Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1741546259098,"SchemaUpdate1741546259098"]
[2025-03-09T18:52:03.425Z][QUERY]: COMMIT
[2025-03-09T18:52:03.427Z]Migration SchemaUpdate1741546259098 has been  executed successfully.
[2025-05-03T18:21:14.070Z][QUERY]: SELECT * FROM current_schema()
[2025-05-03T18:21:22.090Z][QUERY]: SELECT version();
[2025-05-03T18:21:22.091Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2025-05-03T18:21:22.097Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2025-05-03T18:21:22.100Z]12 migrations are already loaded in the database.
[2025-05-03T18:21:22.100Z]13 migrations were found in the source code.
[2025-05-03T18:21:22.100Z]SchemaUpdate1741546259098 is the last executed migration. It was executed on Mon Mar 10 2025 00:20:59 GMT+0530 (India Standard Time).
[2025-05-03T18:21:22.100Z]1 migrations are new migrations must be executed.
[2025-05-03T18:21:22.100Z][QUERY]: START TRANSACTION
[2025-05-03T18:21:22.101Z][QUERY]: ALTER TABLE "projects"."users" ADD "last_seen" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT 'CURRENT_TIMESTAMP'
[2025-05-03T18:21:22.106Z][FAILED QUERY]: ALTER TABLE "projects"."users" ADD "last_seen" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT 'CURRENT_TIMESTAMP'
[2025-05-03T18:21:22.106Z][QUERY ERROR]: error: invalid input syntax for type timestamp with time zone: "CURRENT_TIMESTAMP"
[2025-05-03T18:21:22.106Z]Migration "SchemaUpdate1746296426635" failed, error: invalid input syntax for type timestamp with time zone: "CURRENT_TIMESTAMP"
[2025-05-03T18:21:22.106Z][QUERY]: ROLLBACK
[2025-05-03T18:23:26.618Z][QUERY]: SELECT * FROM current_schema()
[2025-05-03T18:23:34.458Z][QUERY]: SELECT version();
[2025-05-03T18:23:34.460Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2025-05-03T18:23:34.466Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2025-05-03T18:23:34.467Z]12 migrations are already loaded in the database.
[2025-05-03T18:23:34.467Z]13 migrations were found in the source code.
[2025-05-03T18:23:34.467Z]SchemaUpdate1741546259098 is the last executed migration. It was executed on Mon Mar 10 2025 00:20:59 GMT+0530 (India Standard Time).
[2025-05-03T18:23:34.467Z]1 migrations are new migrations must be executed.
[2025-05-03T18:23:34.468Z][QUERY]: START TRANSACTION
[2025-05-03T18:23:34.468Z][QUERY]: ALTER TABLE "projects"."users"
        ADD "last_seen" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()
[2025-05-03T18:23:34.475Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1746296548045,"SchemaUpdate1746296548045"]
[2025-05-03T18:23:34.479Z][QUERY]: COMMIT
[2025-05-03T18:23:34.481Z]Migration SchemaUpdate1746296548045 has been  executed successfully.
[2025-05-03T18:24:13.218Z][QUERY]: SELECT * FROM current_schema()
[2025-05-03T18:24:21.247Z][QUERY]: SELECT version();
[2025-05-03T18:24:21.248Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2025-05-03T18:24:21.253Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2025-05-03T18:24:21.255Z]13 migrations are already loaded in the database.
[2025-05-03T18:24:21.255Z]SchemaUpdate1746296548045 is the last executed migration. It was executed on Sat May 03 2025 23:52:28 GMT+0530 (India Standard Time).
[2025-05-03T18:24:21.255Z]Now reverting it...
[2025-05-03T18:24:21.255Z][QUERY]: START TRANSACTION
[2025-05-03T18:24:21.255Z][QUERY]: ALTER TABLE "projects"."users" DROP COLUMN "last_seen"
[2025-05-03T18:24:21.262Z][QUERY]: DELETE FROM "projects"."chatapp_migrations" WHERE "timestamp" = $1 AND "name" = $2 -- PARAMETERS: [1746296548045,"SchemaUpdate1746296548045"]
[2025-05-03T18:24:21.265Z]Migration SchemaUpdate1746296548045 has been  reverted successfully.
[2025-05-03T18:24:21.265Z][QUERY]: COMMIT
[2025-05-03T18:25:34.694Z][QUERY]: SELECT * FROM current_schema()
[2025-05-03T18:25:42.697Z][QUERY]: SELECT version();
[2025-05-03T18:25:42.700Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'projects' AND "table_name" = 'chatapp_migrations'
[2025-05-03T18:25:42.705Z][QUERY]: SELECT * FROM "projects"."chatapp_migrations" "chatapp_migrations" ORDER BY "id" DESC
[2025-05-03T18:25:42.706Z]12 migrations are already loaded in the database.
[2025-05-03T18:25:42.706Z]13 migrations were found in the source code.
[2025-05-03T18:25:42.707Z]SchemaUpdate1741546259098 is the last executed migration. It was executed on Mon Mar 10 2025 00:20:59 GMT+0530 (India Standard Time).
[2025-05-03T18:25:42.707Z]1 migrations are new migrations must be executed.
[2025-05-03T18:25:42.707Z][QUERY]: START TRANSACTION
[2025-05-03T18:25:42.707Z][QUERY]: ALTER TABLE "projects"."users"
        ADD "last_seen" TIMESTAMP NOT NULL DEFAULT now()
[2025-05-03T18:25:42.711Z][QUERY]: INSERT INTO "projects"."chatapp_migrations"("timestamp", "name") VALUES ($1, $2) -- PARAMETERS: [1746296696020,"SchemaUpdate1746296696020"]
[2025-05-03T18:25:42.713Z][QUERY]: COMMIT
[2025-05-03T18:25:42.714Z]Migration SchemaUpdate1746296696020 has been  executed successfully.
